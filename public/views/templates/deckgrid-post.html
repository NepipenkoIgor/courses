<div class="a-postcard " ng-style="mother.postType(card.typePost)">
<div class="contain"  >

    <div class="header">
        <div class="btn-group close" dropdown is-open="status.isopen" ng-if="mother.ifThisIsAvtor(mother.userdata,card.creator)" style="background-color: transparent">
            <a type="button" class="dropdown-toggle" ng-disabled="disabled" style="background-color: #ffffff;color: #000000;">
                <i class="fa fa-gear" style="font-size: 18px; color: #444; margin: 5px"></i>
            </a>
            <ul class="dropdown-menu" role="menu" style="min-width: 0;left:-20px; margin-top: 5px">
                <li><a ><i class="fa fa-pencil fa-fw"></i>Edit</a></li>
                <li class="divider"></li>
                <li><a ng-click="mother.deletePost(card._id)"><i class="fa fa-trash-o fa-fw"></i>Delete</a></li>
            </ul>
        </div>

        <img ng-src="{{mother.postAvatar(card.creator)}}" class="avatar" ng-click="mother.postProfileGo(card.creator)" style="cursor: pointer">
        <p class="author ng-binding" ng-click="mother.postProfileGo(card.creator)" style="cursor: pointer">{{mother.getCreator(card.creator)}}</p>
        <p class="date ng-binding">{{card.created}}</p>
    </div>
    <h1 class="title ng-binding">{{card.title}}</h1>
    <p class="content ng-binding">{{card.content}}</p>
    <img ng-src="{{card.img}}" class="img" style="width: 100%">
    <div class="tagConteiner">
        <b style="float:left;margin-top: 4px;">Tags:</b>
        <a class="tag" ng-repeat="tag in card.tags" ng-click="mother.searchByTag(tag)" style="cursor:pointer;font-size: x-small">{{tag.text}}</a>
    </div>

<button class="answered" style="" ng-if="mother.answerTrigger(card.typePost)">Answer</button>

    <ul class="footer">
        <li class="col-md-4 col-xs-4"><a href="" ng-click="mother.like(mother.userdata._id,card.likes,card._id,card)" ><i class="fa fa-arrow-circle-up"></i> {{card.likes.length}}</a></li>
        <li class="col-md-4 col-xs-4">
            <a href="" ng-click="commenting = !commenting" style="display: inline-block;">
                <span style="float: left;margin-right: 5px;" ng-show="card.comments.length>0">{{card.comments.length}}</span>
                <div ng-hide="commenting" class="" style="float: left">
                    <i class="fa fa-comments" style="margin-right: 5px"></i><i class="fa fa-caret-down"></i>
                </div>
                <div ng-show="commenting" class="ng-hide" style="float:left">
                    <i class="fa fa-comments" style="margin-right: 5px"></i><i class="fa fa-caret-up"></i>
                </div>
            </a>
        </li>
        <li class="col-md-4 col-xs-4"><a href=""><i class="fa fa-flag"></i></a></li>
    </ul>



    <div class="header answer-heder" ng-if="mother.answerTrigger(card.typePost)">

        <img ng-src="{{mother.postAvatar(card.creator)}}" class="avatar" ng-click="mother.postProfileGo(card.creator)" style="cursor: pointer">
        <p class="author ng-binding" ng-click="mother.postProfileGo(card.creator)" style="cursor: pointer">{{mother.getCreator(card.creator)}}</p>
        <p class="date ng-binding">{{card.created}}</p>
    </div>
  <!--  <h1 class="title ng-binding">{{card.title}}</h1>-->
    <div class="row" ng-if="mother.answerTrigger(card.typePost)">
        <div class="col-md-12" style="margin-bottom: 10px">
        <div class="col-md-2">
            <div style="text-align: center"><i class="fa fa-chevron-up"></i></div>
            <div style="text-align: center">3</div>
            <div style="text-align: center"><i class="fa fa-chevron-down"></i></div>
        </div>
        <div class="col-md-10" style="padding: 0">
            <p class="content ng-binding">{{card.content}}</p>
        </div>
        </div>
    </div>
    <ul class="footer" style="padding-bottom: 40px " ng-if="mother.answerTrigger(card.typePost)">
        <li class="col-md-4 col-xs-4"><a href="" ng-click="mother.like(mother.userdata._id,card.likes,card._id,card)" ><i class="fa fa-check" style="font-size: 30px;"></i></a></li>
        <li class="col-md-4 col-xs-4">
            <a href="" ng-click="commenting = !commenting" style="display: inline-block;">
                <span style="float: left;margin-right: 5px;" ng-show="card.comments.length>0">{{card.comments.length}}</span>
                <div ng-hide="commenting" class="" style="float: left">
                    <i class="fa fa-comments" style="margin-right: 5px"></i><i class="fa fa-caret-down"></i>
                </div>
                <div ng-show="commenting" class="ng-hide" style="float:left">
                    <i class="fa fa-comments" style="margin-right: 5px"></i><i class="fa fa-caret-up"></i>
                </div>
            </a>
        </li>
        <li class="col-md-4 col-xs-4"><a href=""><i class="fa fa-flag"></i></a></li>
    </ul>








    <div class="comments ng-hide" ng-show="commenting" style="overflow: hidden;">
        <img ng-src="{{mother.postAvatar(mother.userdata._id)}}" class="avatar" ng-click="mother.postProfileGo(card.creator)" style="cursor: pointer">
        <textarea class="msd-elastic" name="comment" placeholder="Comments..." rows="4" ng-model="mother.comment" style="min-height: 50px; margin-bottom: 5px;"></textarea>
        <div class="btn-group" style="display: block">
            <button class="btn btn-primary" ng-click="[mother.addComment(card._id,mother.userdata._id,card),commenting = !commenting,mother.comment='']" ng-model="comment">Comment</button>
            <button class="btn btn-danger" ng-click="commenting = !commenting">Cancel</button>
        </div>
    </div>
    <div class="commentsCom" ng-repeat="comment in card.comments" style="overflow: hidden" ng-show="commenting">
        <!--<span class="close" ng-click="mother.deleteComment(comment,card._id, card)" ng-if="mother.ifThisIsAvtor(mother.userdata,comment.creator)">X</span>-->
        <div class="row commentHeader">
<div class="col-md-2 col-xs-2">
    <img ng-src="{{mother.postAvatar(comment.creator)}}" style="float:none;cursor:pointer" ng-click="mother.postProfileGo(card.creator)">
</div>
            <div class="col-md-6 col-xs-6">
                <h5 style="color:red;cursor: pointer" ng-click="mother.postProfileGo(card.creator)">{{mother.getCreator(comment.creator)}}</h5>
                <p class="content" style="font-size: 10px;color: #aaa" >{{comment.dataReg}}</p>
            </div>
            <div class="col-md-4 col-xs-4">
                <ul class="footer1" style="padding: 0">
                    <li><a ng-click="mother.commentLike($index,mother.userdata._id,comment.likes,card._id,card)"
                            style="cursor: pointer"><i class="fa fa-plus"></i> {{comment.likes.length}}</a></li>
                    <!--<li><a ><i class="fa fa-mail-forward"></i></a></li>-->
                    <li style="cursor: pointer"><a ><i class="fa fa-flag"></i></a></li>
                    <li style="cursor: pointer"><a  ng-if="mother.ifThisIsAvtor(mother.userdata,comment.creator)"
                                                    ng-click="textBtnForm.$show()"><i class="fa fa-pencil"></i></a></li>
                </ul>
            </div>


        </div>



        <div>

            <p style="padding: 0 10px!important;" class="content" editable-text="comment.content" e-form="textBtnForm"
               onaftersave="mother.updateComment(card)">{{comment.content}}</p>
            <!--<button class="btn btn-default"  ng-hide="textBtnForm.$visible">
                edit
            </button>-->
        </div>
    </div>
</div>
</div>